<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Reaction Time Test ‚Äì How Fast Are You?</title>

<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta name="description" content="Test your reaction speed. Tap when the screen turns green. Play 3 rounds to get your accurate reaction time." />
<meta name="robots" content="index, follow" />
<meta name="theme-color" content="#0a8f08" />
<link rel="canonical" href="https://reaction-time-game-rt.netlify.app/" />

<!-- Open Graph -->
<meta property="og:title" content="Reaction Time Test ‚Äì How Fast Are You?" />
<meta property="og:description" content="Tap when the screen turns green. Play 3 times to discover your real reaction speed." />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://reaction-time-game-rt.netlify.app/" />
<meta property="og:image" content="https://reaction-time-game-rt.netlify.app/cat-happy.png" />

<style>
html, body {
  margin: 0;
  padding: 0;
  height: 100%;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
  background: #8b0000;
  color: #fff;
  text-align: center;
  user-select: none;
}

body.go { background: #0a8f08; }

.wrapper {
  min-height: 100%;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  align-items: center;
  padding: 16px;
}

#character {
  width: 220px;
  max-width: 65%;
  margin-top: 10px;
}

/* Animations */
.idle { animation: breathe 3s ease-in-out infinite; }
.waiting { animation: wiggle 0.6s ease-in-out infinite; }
.react { animation: pop 0.35s ease-out; }

@keyframes breathe {
  0%,100% { transform: scale(1); }
  50% { transform: scale(1.04); }
}

@keyframes wiggle {
  0% { transform: rotate(0deg); }
  25% { transform: rotate(-2deg); }
  50% { transform: rotate(2deg); }
  75% { transform: rotate(-1deg); }
  100% { transform: rotate(0deg); }
}

@keyframes pop {
  0% { transform: scale(0.9); }
  60% { transform: scale(1.15); }
  100% { transform: scale(1); }
}

#main {
  font-size: 26px;
  font-weight: 700;
  margin-top: 10px;
}

#sub {
  font-size: 15px;
  opacity: 0.9;
  white-space: pre-line;
}

#shareBtn {
  display: none;
  margin-top: 14px;
  padding: 14px 20px;
  border-radius: 12px;
  border: none;
  background: #fff;
  color: #000;
  font-size: 16px;
  font-weight: 600;
  width: 90%;
  max-width: 320px;
}

#ad {
  width: 100%;
  max-width: 360px;
  min-height: 90px;
  margin-bottom: 10px;
  background: rgba(0,0,0,0.25);
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 14px;
  opacity: 0.8;
}
</style>
</head>

<body>
<div class="wrapper" id="game">

  <img id="character" src="cat-idle.png" class="idle" alt="Reaction Cat" />

  <div id="main">Tap to start</div>
  <div id="sub">For accurate results, play 3 rounds.</div>

  <button id="shareBtn">Share your result üöÄ</button>

  <!-- AdSense-safe placement -->
  <div id="ad">Advertisement</div>
</div>

<script>
let state = "idle";
let startTime = 0;
let timeout = null;
let attempts = [];

const main = document.getElementById("main");
const sub = document.getElementById("sub");
const character = document.getElementById("character");
const shareBtn = document.getElementById("shareBtn");

function setCat(img, cls) {
  character.src = img;
  character.className = cls;
}

function grade(ms) {
  if (ms < 180) return { g: "S", p: 99, img: "cat-happy.png", t: "Lightning fast ‚ö°" };
  if (ms < 230) return { g: "A", p: 90, img: "cat-fast.png", t: "Excellent" };
  if (ms < 300) return { g: "B", p: 70, img: "cat-ready.png", t: "Good" };
  if (ms < 380) return { g: "C", p: 45, img: "cat-idle.png", t: "Average" };
  return { g: "D", p: 20, img: "cat-slow.png", t: "Too slow üòµ‚Äçüí´" };
}

document.body.addEventListener("click", () => {

  if (state === "idle") {
    state = "waiting";
    main.innerText = "Wait for GREEN‚Ä¶";
    sub.innerText = "";
    setCat("cat-ready.png", "waiting");

    timeout = setTimeout(() => {
      state = "go";
      startTime = Date.now();
      document.body.classList.add("go");
      main.innerText = "TAP!";
    }, Math.random() * 2000 + 1000);
    return;
  }

  if (state === "waiting") {
    clearTimeout(timeout);
    state = "idle";
    main.innerText = "Too soon!";
    sub.innerText = "Tap to try again";
    document.body.classList.remove("go");
    setCat("cat-slow.png", "react");
    return;
  }

  if (state === "go") {
    const time = Date.now() - startTime;
    attempts.push(time);
    document.body.classList.remove("go");
    state = "idle";

    const r = grade(time);
    main.innerText = `${time} ms`;
    sub.innerText = `Grade ${r.g} ‚Äî ${r.t}`;
    setCat(r.img, "react");

    if (attempts.length >= 3) {
      const best = Math.min(...attempts);
      const bestR = grade(best);

      sub.innerText =
        `Best of 3: ${best} ms\nGrade ${bestR.g} ‚Äî Faster than ${bestR.p}%`;

      shareBtn.style.display = "block";
      shareBtn.onclick = () => {
        const text =
          `üê± My reaction time is ${best} ms!\nGrade ${bestR.g} ‚Äî Faster than ${bestR.p}%\nTry it: ${location.href}`;
        navigator.share
          ? navigator.share({ text })
          : alert(text);
      };

      attempts = [];
    }
  }
});
</script>

<!-- Structured Data -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Game",
  "name": "Reaction Time Test",
  "description": "Test your reaction speed by tapping when the screen turns green.",
  "applicationCategory": "Game",
  "operatingSystem": "Web",
  "url": "https://reaction-time-game-rt.netlify.app/"
}
</script>

</body>
</html>